"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[291],{2116:function(t,e,s){s.d(e,{Z:function(){return f}});var i=s(3396),n=s(7139);const l=t=>((0,i.dD)("data-v-d5e95310"),t=t(),(0,i.Cn)(),t),o={key:0,class:"popup"},a={class:"mask"},d={class:"content"},c={class:"topbar"},r={class:"dialog-tit"},u={t:"1501234940517",class:"icon",style:{},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3014","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20",height:"20"},p=l((()=>(0,i._)("path",{d:"M941.576 184.248l-101.824-101.824L512 410.176 184.248 82.424 82.424 184.248 410.168 512l-327.744 327.752 101.824 101.824L512 613.824l327.752 327.752 101.824-101.824L613.832 512z",fill:"#cdcdcd","p-id":"3015"},null,-1))),h=[p],g={class:"s-content"};function v(t,e,s,l,p,v){return s.open?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",a,[(0,i._)("div",d,[(0,i._)("div",c,[(0,i._)("div",r,[(0,i._)("h4",null,(0,n.zw)(s.title),1)]),(0,i._)("span",{class:"close",onClick:e[0]||(e[0]=(...t)=>v.close&&v.close(...t))},[((0,i.wg)(),(0,i.iD)("svg",u,h))])]),(0,i._)("div",g,[(0,i.WI)(t.$slots,"content",{},void 0,!0)])])])])):(0,i.kq)("",!0)}var w={props:{open:{type:Boolean,default:!1},title:{type:String,default:"管理收货地址"}},methods:{close(){this.$emit("close")}}},_=s(89);const m=(0,_.Z)(w,[["render",v],["__scopeId","data-v-d5e95310"]]);var f=m},8341:function(t,e,s){s.d(e,{Z:function(){return p}});var i=s(3396),n=s(7139);const l={class:"gray-box"},o={class:"title"},a={class:"con"};function d(t,e,s,d,c,r){return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",o,[(0,i._)("h2",null,(0,n.zw)(s.title),1),(0,i._)("div",null,[(0,i.WI)(t.$slots,"right",{},void 0,!0)])]),(0,i._)("div",a,[(0,i.WI)(t.$slots,"content",{},void 0,!0)])])}var c={props:["title"]},r=s(89);const u=(0,r.Z)(c,[["render",d],["__scopeId","data-v-9355dd7c"]]);var p=u},5291:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});var i=s(3396),n=s(7139);const l=t=>((0,i.dD)("data-v-7f9e1180"),t=t(),(0,i.Cn)(),t),o=l((()=>(0,i._)("div",{class:"table-title"},[(0,i._)("span",{class:"name"},"订单号"),(0,i._)("span",{class:"name"},"时间"),(0,i._)("span",{class:"name"},"物品名称"),(0,i._)("span",{class:"name"},"单价"),(0,i._)("span",{class:"name"},"状态"),(0,i._)("span",{class:"name"},"订单操作")],-1))),a={key:0,"element-loading-text":"加载中...",style:{"min-height":"10vw"}},d={class:"name"},c={class:"time"},r={class:"name"},u={class:"price"},p={key:0,class:"number"},h={key:1,class:"number"},g={key:2,class:"number"},v={key:1},w=l((()=>(0,i._)("div",{style:{padding:"80px 0","text-align":"center"}},[(0,i._)("div",{style:{"font-size":"20px"}},"您的订单为空"),(0,i._)("div",{style:{margin:"20px"}})],-1))),_=[w];function m(t,e,s,l,w,m){const f=(0,i.up)("el-button"),y=(0,i.up)("y-shelf"),k=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(y,{title:"我的订单"},{content:(0,i.w5)((()=>[o,w.flag?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.addList,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"address-item",key:e},[(0,i._)("div",d,(0,n.zw)(t.oid),1),(0,i._)("div",c,(0,n.zw)(t.time),1),(0,i._)("div",r,(0,n.zw)(t.name),1),(0,i._)("div",u,"￥"+(0,n.zw)(t.price),1),1===t.status?((0,i.wg)(),(0,i.iD)("div",p,"上架")):2===t.status?((0,i.wg)(),(0,i.iD)("div",h," 预定 ")):((0,i.wg)(),(0,i.iD)("div",g," 完成 ")),(0,i.Wm)(f,{style:{"margin-left":"20px"},onClick:e=>m.delOrder(t),type:"danger",size:"large",class:"del-order"},{default:(0,i.w5)((()=>[(0,i.Uk)("此订单完成")])),_:2},1032,["onClick"])])))),128))])),[[k,w.loading]]):((0,i.wg)(),(0,i.iD)("div",v,_))])),_:1})])}s(7658);var f=s(4870),y=s(4161),k=s(8341),D=s(4405),x=s(2116),b=s(7746),L=s(7247),z={components:{YShelf:k.Z,YButton:D.Z,YPopup:x.Z,axios:y.Z,setStore:L.PQ,getStore:L.bh},setup(){const t=(0,L.bh)("id"),e=(0,f.iH)([]),s=()=>{console.log("update");let s={id:t};getGoodById(s).then((t=>{e.value=t}))},i=()=>{var t=new Date,e=t.getFullYear(),s=t.getMonth()+1,i=t.getDate();return e+"-"+s+"-"+i},n=t=>{t.time=i(),e.value.push(t)};return{id:t,addList:e,insertGood:n,showTime:i,update:s}},data(){return{loading:!0,flag:!0}},created(){this.id?this.init_ordersList():(this.note_fail(),this.id=(0,L.bh)("id"))},methods:{note_success(){this.$notify({title:"订单信息",message:"加载成功",type:"success",position:"top-right"})},note_fail(){this.$notify({title:"订单信息",message:"加载失败,未登录",type:"error",position:"top-right"})},delOrder(t){let e={oid:t.oid};(0,b.wH)(e).then((t=>{console.log(t)})),this.updateGoodStatus(t),this.$router.push({path:"/user/information"})},updateGoodStatus(t){let e={uid:t.uid,id:t.gid,status:3};(0,b.BK)(e).then((t=>{console.log(t)}))},showNotNull(){this.loading=!1},showNull(){this.loading=!1,this.flag=!1},init_ordersList(){console.log("---init_ordersList----");let t={uid:this.id};(0,b.co)(t).then((t=>{this.addList=t,console.log(t.length),console.log(t),this.addList.length?(console.log("here"),this.showNotNull()):this.showNull()}))}}},Z=s(89);const C=(0,Z.Z)(z,[["render",m],["__scopeId","data-v-7f9e1180"]]);var I=C}}]);
//# sourceMappingURL=291.30076a5c.js.map